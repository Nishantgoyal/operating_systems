# Manipulating Kernel Modules

- The Linux Kernel is Modular
  - No need to install all the drivers
  - for all the potential hardwares
  - Just the drivers and modules that are required
- Makes the kernel very efficient
- There are multiple tools available
  - for manipulating the modules on
  - the running kernel

## insmod

- _It inserts the module into the running kernel_
- It is a very basic program
- It requires the complete path of the module to be inserted
- It does not do any dependency resolution
- On Error or Failure, it do not provides any explanation

## modprobe

- _It inserts the module into the running kernel_
- Advanced
- It requires only the name of the kernel module to be inserted
- It does dependency resolution, and installs the dependencies alongside
- It does need a map of all the dependencies prior to module install
  - can be done using `depmod` utility
- On Error or Failure, it provides some explanation to resolve the same
- It uses `insmod` behind the scene to actually install the modules

## rmmod

- _It removes the module from a running kernel_
- Will remove the module if not used by anyother module
- The user need to remove the dependent program first

## lsmod

- _Lists all the modules attached to the running kernel_

## depmod

- _Updates the system dependencies map_
- Required by modprobe to get the dependencies of a module
