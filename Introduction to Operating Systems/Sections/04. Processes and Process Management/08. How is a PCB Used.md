# How is a PCB Used?

- For the currently running process `P1`
  - the CPU registers hold values corresponding to the state of `P1`
- When `P1` is interrupted
  - CPU saves all state information regarding `P1`
  - including values in in CPU registers
  - into the Process Control Block for `P1`
- Now, if `P2` is to be executed
  - the CPU has to update its registers with the state of `P2`
  - While `P2` is running,
    - it can request more memory via _malloc_ call
      - operating system will allocate the memory
      - establish new virtual to physical mappings
      - update the Process Control Block for P2
- At some point, OS might interrupt `P2` and resume `P1`
  - by saving state of `P2` into its PCB
  - and restoring state of `P1` from `P1`s PCB
  - This is called **_Context Switch_**
